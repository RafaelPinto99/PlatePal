<div class="survey-container" data-controller="questionshow">
  <div class="progress-bar">
    <div class="progress" data-questionshow-target="progress" style="width: 0%;"></div>
  </div>

  <form action="/survey" method="post">
    <%= hidden_field_tag :authenticity_token, form_authenticity_token %>

    <!-- Questions -->
    <div data-questionshow-target="question" data-questionshow-index="0">
      <h2 class="question-title">Question 1</h2>
      <p class="question-text">What is your primary goal for meal prep?</p>
      <div class="options">
        <% answers = [
          "Save time during the week.",
          "Create healthy, balanced meals.",
          "Stick to a specific diet (e.g., keto, vegetarian).",
          "Ensure meals are kid-friendly.",
          "Minimize food waste."
        ] %>

        <% emoji_map = {
          "Save time during the week." => "⏳",
          "Create healthy, balanced meals." => "💪",
          "Stick to a specific diet (e.g., keto, vegetarian)." => "🥗",
          "Ensure meals are kid-friendly." => "👦",
          "Minimize food waste." => "🌍"
        } %>

        <% answers.each do |answer| %>
          <label class="option">
            <input type="radio" name="question_1" value="<%= answer.downcase.gsub(" ", "_") %>">
            <span class="emoji"><%= emoji_map[answer] %></span>
            <span class="label-text"><%= answer %></span>
          </label>
        <% end %>
      </div>
    </div>

    <div data-questionshow-target="question" data-questionshow-index="1" hidden>
      <h2 class="question-title">Question 2</h2>
      <p class="question-text">How is your time availability?</p>
      <div class="options">
        <% answers = [
          "Limited time - I need quick, under 30-minute recipes.",
          "Open schedule - I can dedicate more time to cooking."
        ] %>

        <% answers.each do |answer|%>
          <label class="option">
            <input type="radio" name="question_2" value="<%= answer.downcase.gsub(" ", "_") %>" />
            <span class="label-text"><%= answer %></span>
          </label>
        <% end %>
      </div>
    </div>

    <!-- Add similar blocks for other questions, each with a unique `data-questionshow-index` -->

    <!-- Navigation buttons -->
    <div class="navigation">
      <button type="button" class="btn btn-primary" data-action="questionshow#previous">Previous</button>
      <button type="button" class="btn btn-primary" data-action="questionshow#next">Next</button>
    </div>
  </form>
</div>
